/*! pkmod v1.0.1 | (c) pharmacometric.com */
function dwnLd({cID:t,type:e="png",fname:i="pfile1",scale:l=3}){document.addEventListener("DOMContentLoaded",html2canvas(document.querySelector("#"+t),{scale:l}).then(t=>{saveAs(t.toDataURL("image/"+e,1),i+"."+e)}))}class PKPDmod{constructor(t,e=600,i=450,l="courier",h=18){this.stytext="bold "+h+"px "+l,this.txtloc="center",this.cID=t,this.contw=e,this.conth=i,this.setDim()}setDim(){let t=document.getElementById(this.cID);t.width=this.contw,t.height=this.conth}attplug(t,e,i){let l=t.createElement(e),h=t.getElementsByTagName(e)[0];l.src=i,h.parentNode.insertBefore(l,h)}setCId({t,w:e=600,h:i=450}){this.cID=t,this.contw=e,this.conth=i,this.setDim()}drwBox({cID:t,x:e,y:i,width:l,height:h,radius:o,color1:c="blue",linewidth:s=5,color2:r="red",text1:a="DEPOT",text2:d=""}){var n=document.getElementById(t).getContext("2d");n.beginPath(),n.moveTo(e+o,i),n.arcTo(e+l,i,e+l,i+o,o),n.arcTo(e+l,i+h,e+l-o,i+h,o),n.arcTo(e,i+h,e,i+h-o,o),n.arcTo(e,i,e+o,i,o),n.closePath(),n.lineWidth=s,n.fillStyle=r,n.fill(),n.strokeStyle=c,n.stroke(),n.font=this.stytext,n.fillStyle=c,n.textAlign=this.txtloc,n.textBaseline="middle",n.fillText(a,e+l/2,i+l/2),n.fillText(d,e+l/2,20+i+l/2)}drwcBox({cID:t=this.cID,x:e,y:i,radius:l=100,lw:h=5,bg:o="pink",border:c="black",txt:s="",txt2:r=""}){var a=document.getElementById(t).getContext("2d");a.beginPath(),a.arc(e+l,i+l,l,0,2*Math.PI),a.lineWidth=h,a.strokeStyle=c,a.stroke(),a.closePath(),a.fillStyle=o,a.fill(),a.font=this.stytext,a.textAlign="center",a.textBaseline="middle",a.fillStyle=c,a.fillText(s,e+l,i+l),a.fillText(r,e+l,20+i+l)}drwLineST({cID:t,x:e,y:i,deg:l,length:h,lc:o,ahfc:c="blue",topstr:s="DOSE",hpos:r="left",endy:a=100}){var d=document.getElementById(t).getContext("2d");d.fillStyle=o,d.font=this.stytext,d.textAlign=this.txtloc,d.fillText(s,e,i),i+=10,d.translate(e,i),d.rotate(l*Math.PI/180),d.fillRect(0,0,h,2),d.beginPath(),d.moveTo(h,-12),d.lineTo(h,12),d.lineTo(h+13,0),d.closePath(),d.fillStyle=c,d.fill(),d.restore(),d.setTransform(1,0,0,1,0,0);var n=(e+h)/2+5,x=(i+h)/2,_=50,_=15;d.fillStyle="gray",d.strokeStyle="black",d.lineWidth=1.5,d.fillRect(n-_/2,x-_/2,_,_),d.strokeRect(n-_/2,x-_/2,_,_),d.fillStyle="black",d.textAlign="right",d.fillText("D2",n+_/2+30,x+1)}drwLineTB({cID:t,x:e,y:i,length:l,lc:h,ahfc:o,ahbc:c,arp:s="top",txtmid:r="K10",topstr:a="DOSE, at t = ALAG",hpos:d="left",coltxt:n="red"}){var x=document.getElementById(t).getContext("2d");let _="left"!=d?e-7*r.length:e+7*r.length;if(r.length>0&&(x.fillStyle=n,x.font=this.stytext,x.textAlign=this.txtloc,x.fillText(r,_,i+l/2),x.restore()),a.length>0){var $=i+10;i+=17,x.fillStyle=n,x.font=this.stytext,x.textAlign=this.txtloc,x.fillText(a,e,$),x.restore()}x.beginPath(),x.moveTo(e,i),x.lineTo(e,i+l),x.lineWidth=2,x.strokeStyle=h,x.stroke();var b=e,w=i+l,g=e,D=i;"bottom"==s&&(x.beginPath(),x.moveTo(b,w),x.lineTo(b+8,w-8),x.lineTo(b-8,w-8),x.closePath(),x.fillStyle=o,x.fill(),x.strokeStyle=c,x.stroke()),"top"==s&&(x.beginPath(),x.moveTo(g,D),x.lineTo(g+8,D+8),x.lineTo(g-8,D+8),x.closePath(),x.fillStyle=o,x.fill(),x.strokeStyle=c,x.stroke())}drwLineLR({cID:t,x:e,y:i,l:l=180,open:h=!0,dash:o=!1,arp:c="left",hpos:s="up",txtmid:r="CLL",txttop:a="",lw:d=2,coltxt:n="purple"}){var x=document.getElementById(t).getContext("2d");if(x.lineWidth=d,a.length>0){var _=e;e+=7*a.length,x.fillStyle=n,x.font=this.stytext,x.textAlign=this.txtloc,x.fillText(a,_,i),x.restore()}x.beginPath(),!0==o&&x.setLineDash([5,5]),x.moveTo(e,i),x.lineTo(l+e,i),x.stroke(),x.setLineDash([0,0]);var $=10,$=8;"right"==c|"both"==c&&(x.beginPath(),x.moveTo(l+e,i),x.lineTo(l+e-$,i-$),x.lineTo(l+e-$,i+$),x.closePath(),x.fillStyle=h?"white":"black",x.fill(),x.stroke()),"left"==c|"both"==c&&(x.beginPath(),x.moveTo(e,i),x.lineTo(e+$,i-$),x.lineTo(e+$,i+$),x.closePath(),x.fillStyle=h?"white":"black",x.fill(),x.stroke()),r.length>0&&(x.fillStyle=n,x.font=this.stytext,x.textAlign=this.txtloc,x.fillText(r,e+l/2,"up"==s?i-10:i+15),x.restore())}lib$1cmt({depot:t=!0,bolus:e=!0,labdose:i="Dose",circle:l=!0,depottxt:h="DEPOT",centraltxt:o="CENTRAL",depottxt2:c="(V1)",centraltxt2:s="(V2)",bgcol:r="#f5f5f5",txtcol:a="black"}){let d=5,n=5;t&&(this.drwLineTB({cID:this.cID,x:d+75,y:5,length:120,lc:"black",ahfc:"white",ahbc:"black",arp:"bottom",txtmid:"",topstr:i}),d+=273,n+=140,l?this.drwcBox({x:5,y:n,radius:75,lw:4,bg:r,border:a,txt:h,txt2:"V2",txt2:c}):this.drwBox({cID:this.cID,x:5,y:n,width:150,height:150,radius:6,color1:a,linewidth:2,color2:r,text1:h,text2:c}),this.drwLineLR({cID:this.cID,x:155,y:210,open:!1,arp:"right",hpos:"under",dash:!1,l:120,txtmid:"Ka"})),e&&(n=144,this.drwLineTB({cID:this.cID,x:d+75,y:5,length:120,lc:"black",ahfc:"white",ahbc:"black",arp:"bottom",txtmid:"",topstr:i})),l?this.drwcBox({x:d,y:n,radius:75,lw:4,bg:r,border:a,txt:o,txt2:s}):this.drwBox({cID:this.cID,x:d,y:n,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:r,text1:o,text2:s}),this.drwLineTB({cID:this.cID,x:d+75,y:n+150,length:120,lc:a,ahfc:"black",ahbc:"black",arp:"bottom",txtmid:"K10",topstr:""})}lib$2cmt({depot:t=!0,bolus:e=!0,labdose:i="Dose",circle:l=!0,depottxt:h="DEPOT",centraltxt:o="CENTRAL",bgcol:c="#f5f5f5",txtcol:s="black"}){let r=5,a=5;this.setDim(),t&&(this.drwLineTB({cID:this.cID,x:r+75,y:5,length:120,lc:"black",ahfc:"white",ahbc:"black",arp:"bottom",txtmid:"",topstr:i}),r+=273,a+=140,l?this.drwcBox({x:5,y:a,radius:75,lw:4,bg:c,border:s,txt:h}):this.drwBox({cID:this.cID,x:5,y:a,width:150,height:150,radius:6,color1:s,linewidth:2,color2:c,text1:h}),this.drwLineLR({cID:this.cID,x:155,y:210,open:!1,arp:"right",hpos:"under",dash:!1,l:120,txtmid:"Ka"})),e&&(a=144,this.drwLineTB({cID:this.cID,x:r+75,y:5,length:120,lc:"black",ahfc:"white",ahbc:"black",arp:"bottom",txtmid:"",topstr:i})),l?this.drwcBox({x:r,y:a,radius:75,lw:4,bg:c,border:s,txt:o}):this.drwBox({cID:this.cID,x:r,y:a,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:c,text1:o}),this.drwLineTB({cID:this.cID,x:r+75,y:a+150,length:120,lc:"black",ahfc:"black",ahbc:"black",arp:"bottom",txtmid:"K10",topstr:""}),this.drwLineLR({cID:this.cID,x:r+150,y:200,open:!1,arp:"right",hpos:"up",dash:!1,l:120,txtmid:"K12"}),this.drwLineLR({cID:this.cID,x:r+150,y:230,open:!1,arp:"left",hpos:"under",dash:!1,l:120,txtmid:"K21"}),l?this.drwcBox({x:r+150+120,y:a,radius:75,lw:4,bg:c,border:s,txt:o}):this.drwBox({cID:this.cID,x:r+150+120,y:a,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:c,text1:o})}lib$3cmt({depot:t=!0,bolus:e=!0,labdose:i="Dose",circle:l=!0,depottxt:h="DEPOT",centraltxt:o="CENTRAL",bgcol:c="#f5f5f5",txtcol:s="black"}){let r=5,a=137;this.setDim(),t&&(this.drwLineTB({cID:this.cID,x:r+75,y:a,length:120,lc:"black",ahfc:"white",ahbc:"black",arp:"bottom",txtmid:"",topstr:i}),r+=273,a+=140,l?this.drwcBox({x:5,y:a,radius:75,lw:4,bg:c,border:s,txt:h}):this.drwBox({cID:this.cID,x:5,y:a,width:150,height:150,radius:6,color1:s,linewidth:2,color2:c,text1:h}),this.drwLineLR({cID:this.cID,x:155,y:a+75,open:!1,arp:"right",hpos:"under",dash:!1,l:120,txtmid:"Ka"})),l?this.drwcBox({x:r,y:5,radius:75,lw:4,bg:c,border:s,txt:o}):this.drwBox({cID:this.cID,x:r,y:5,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:c,text1:o}),this.drwLineTB({cID:this.cID,x:r+75-15,y:155,length:120,hpos:"right",lc:"black",ahfc:"white",ahbc:"black",arp:"bottom",txtmid:"K31",topstr:""}),this.drwLineTB({cID:this.cID,x:r+75+15,y:156,length:120,hpos:"left",lc:"black",ahfc:"white",ahbc:"black",arp:"top",txtmid:"K13",topstr:""}),l?this.drwcBox({x:r,y:a,radius:75,lw:4,bg:c,border:s,txt:o}):this.drwBox({cID:this.cID,x:r,y:a,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:c,text1:o}),this.drwLineTB({cID:this.cID,x:r+75,y:a+150,length:120,lc:"black",ahfc:"black",ahbc:"black",arp:"bottom",txtmid:"K10",topstr:""}),e&&(a=144,this.drwLineST({cID:this.cID,x:125,y:a-100,endy:r,length:258,deg:55,lc:"black",ahfc:"black",topstr:"Bolus Dose"})),a=2*a-15,this.drwLineLR({cID:this.cID,x:r+150+1,y:a-15+75,open:!1,arp:"right",hpos:"up",dash:!1,l:120,txtmid:"K21"}),this.drwLineLR({cID:this.cID,x:r+150+2,y:a+15+75,open:!1,arp:"left",hpos:"under",dash:!1,l:120,txtmid:"K12"}),l?this.drwcBox({x:r+150+120+3,y:a,radius:75,lw:4,bg:c,border:s,txt:o}):this.drwBox({cID:this.cID,x:r+150+120+3,y:a,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:c,text1:o})}}