/*! pkmod v1.0.1 | (c) pharmacometric.com */
function dwnLd({cID:t,type:e="png",fname:l="pfile1",scale:i=3}){document.addEventListener("DOMContentLoaded",html2canvas(document.querySelector("#"+t),{scale:i}).then(t=>{saveAs(t.toDataURL("image/"+e,1),l+"."+e)}))}class PKPDmod{constructor(t,e=600,l=450,i="courier",o=18){this.stytext="bold "+o+"px "+i,this.txtloc="center",this.cID=t,this.contw=e,this.conth=l,this.setDim()}setDim(){let t=document.getElementById(this.cID);t.width=this.contw,t.height=this.conth}attplug(t,e,l){let i=t.createElement(e),o=t.getElementsByTagName(e)[0];i.src=l,o.parentNode.insertBefore(i,o)}setCId({t,w:e=600,h:l=450}){this.cID=t,this.contw=e,this.conth=l,this.setDim()}drwBox({cID:t,x:e,y:l,width:i,height:o,radius:h,color1:c="blue",linewidth:s=5,color2:r="red",text1:x="DEPOT",text2:a="",coltxt:d="red"}){var n=document.getElementById(t).getContext("2d");n.beginPath(),n.moveTo(e+h,l),n.arcTo(e+i,l,e+i,l+h,h),n.arcTo(e+i,l+o,e+i-h,l+o,h),n.arcTo(e,l+o,e,l+o-h,h),n.arcTo(e,l,e+h,l,h),n.closePath(),n.lineWidth=s,n.fillStyle=r,n.fill(),n.strokeStyle=c,n.stroke(),n.font=this.stytext,n.fillStyle=d,n.textAlign=this.txtloc,n.textBaseline="middle",n.fillText(x,e+i/2,l+i/2),n.fillText(a,e+i/2,20+l+i/2)}drwcBox({cID:t=this.cID,x:e,y:l,radius:i=100,lw:o=5,bg:h="pink",border:c="black",coltxt:s="green",txt:r="",txt2:x=""}){var a=document.getElementById(t).getContext("2d");a.beginPath(),a.arc(e+i,l+i,i,0,2*Math.PI),a.lineWidth=o,a.strokeStyle=c,a.stroke(),a.closePath(),a.fillStyle=h,a.fill(),a.font=this.stytext,a.textAlign="center",a.textBaseline="middle",a.fillStyle=s,a.fillText(r,e+i,l+i),a.fillText(x,e+i,20+l+i),a.fillStyle=c}drwLineST({cID:t,x:e,y:l,deg:i,length:o,lc:h,ahfc:c="blue",topstr:s="DOSE",hpos:r="left",endy:x=100,coltxt:a="green",delaybg:d="gray",fixx:n=0,fixy:_=0}){var $=document.getElementById(t).getContext("2d");$.fillStyle=a,$.font=this.stytext,$.textAlign=this.txtloc,$.fillText(s,e,l),$.fillStyle=h,l+=10,$.translate(e,l),$.rotate(i*Math.PI/180),$.fillRect(0,0,o,2),$.beginPath(),$.moveTo(o,-12),$.lineTo(o,12),$.lineTo(o+13,0),$.closePath(),$.fillStyle=c,$.fill(),$.restore(),$.setTransform(1,0,0,1,0,0);var g=(e+o)/2+5;n&&(g=n);var b=(l+o)/2;_&&(b=_);var y=50,y=15;$.fillStyle=d,$.strokeStyle=c,$.lineWidth=1.5,$.fillRect(g-y/2,b-y/2,y,y),$.strokeRect(g-y/2,b-y/2,y,y),$.fillStyle=a,$.textAlign="right",$.fillText("D2",g+y/2+30,b+1),$.restore()}drwLineTB({cID:t,x:e,y:l,length:i,lc:o,ahfc:h,ahbc:c,arp:s="top",txtmid:r="K10",topstr:x="DOSE, at t = ALAG",hpos:a="left",coltxt:d="red"}){var n=document.getElementById(t).getContext("2d");let _="left"!=a?e-7*r.length:e+7*r.length;if(r.length>0&&(n.fillStyle=d,n.font=this.stytext,n.textAlign=this.txtloc,n.fillText(r,_,l+i/2),n.restore()),x.length>0){var $=l+10;l+=17,n.fillStyle=d,n.font=this.stytext,n.textAlign=this.txtloc,n.fillText(x,e,$),n.restore()}n.beginPath(),n.moveTo(e,l),n.lineTo(e,l+i),n.lineWidth=2,n.strokeStyle=o,n.stroke();var g=e,b=l+i,y=e,D=l;"bottom"==s&&(n.beginPath(),n.moveTo(g,b),n.lineTo(g+8,b-8),n.lineTo(g-8,b-8),n.closePath(),n.fillStyle=h,n.fill(),n.strokeStyle=c,n.stroke()),"top"==s&&(n.beginPath(),n.moveTo(y,D),n.lineTo(y+8,D+8),n.lineTo(y-8,D+8),n.closePath(),n.fillStyle=h,n.fill(),n.strokeStyle=c,n.stroke())}drwLineLR({cID:t,x:e,y:l,l:i=180,open:o=!0,dash:h=!1,arp:c="left",hpos:s="up",txtmid:r="CLL",txttop:x="",lw:a=2,coltxt:d="purple"}){var n=document.getElementById(t).getContext("2d");if(n.lineWidth=a,x.length>0){var _=e;e+=7*x.length,n.fillStyle=d,n.font=this.stytext,n.textAlign=this.txtloc,n.fillText(x,_,l),n.restore()}n.beginPath(),!0==h&&n.setLineDash([5,5]),n.moveTo(e,l),n.lineTo(i+e,l),n.stroke(),n.setLineDash([0,0]);var $=10,$=8;"right"==c|"both"==c&&(n.beginPath(),n.moveTo(i+e,l),n.lineTo(i+e-$,l-$),n.lineTo(i+e-$,l+$),n.closePath(),n.fillStyle=o?"white":"black",n.fill(),n.stroke()),"left"==c|"both"==c&&(n.beginPath(),n.moveTo(e,l),n.lineTo(e+$,l-$),n.lineTo(e+$,l+$),n.closePath(),n.fillStyle=o?"white":"black",n.fill(),n.stroke()),r.length>0&&(n.fillStyle=d,n.font=this.stytext,n.textAlign=this.txtloc,n.fillText(r,e+i/2,"up"==s?l-10:l+15),n.restore())}lib$1cmt({depot:t=!0,bolus:e=!0,labdose:l="Dose",circle:i=!0,depottxt:o="DEPOT",centraltxt:h="CENTRAL",depottxt2:c="(V1)",centraltxt2:s="(V2)",bgcol:r="#f5f5f5",txtcol:x="orange"}){let a=5,d=5;t&&(this.drwLineTB({cID:this.cID,x:a+75,y:5,length:120,lc:"black",ahfc:"white",ahbc:"black",arp:"bottom",txtmid:"",topstr:l,coltxt:x}),a+=273,d+=140,i?this.drwcBox({x:5,y:d,radius:75,lw:4,bg:r,txt:o,txt2:"V2",txt2:c,coltxt:x}):this.drwBox({cID:this.cID,x:5,y:d,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:r,text1:o,text2:c,coltxt:x}),this.drwLineLR({cID:this.cID,x:155,y:210,open:!1,arp:"right",hpos:"under",dash:!1,l:120,txtmid:"Ka",coltxt:x})),e&&(d=144,this.drwLineST({cID:this.cID,x:a+75,y:9,endy:a,length:110,deg:90,lc:"black",ahfc:"black",coltxt:"red",topstr:"Bolus Dose",fixx:a+75-1,coltxt:x})),i?this.drwcBox({x:a,y:d,radius:75,lw:4,bg:r,txt:h,txt2:s,coltxt:x}):this.drwBox({cID:this.cID,x:a,y:d,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:r,text1:h,text2:s,coltxt:x}),this.drwLineTB({cID:this.cID,x:a+75,y:d+150,length:120,lc:"black",ahfc:"black",ahbc:"black",arp:"bottom",txtmid:"K10",topstr:"",coltxt:x})}lib$2cmt({depot:t=!0,bolus:e=!0,labdose:l="Dose",circle:i=!0,depottxt:o="DEPOT",centraltxt:h="CENTRAL",peritxt1:c="PERI1",bgcol:s="#f5f5f5",txtcol:r="black"}){let x=5,a=5;this.setDim(),t&&(this.drwLineTB({cID:this.cID,x:x+75,y:5,length:120,lc:"black",ahfc:"white",ahbc:"black",arp:"bottom",txtmid:"",topstr:l,coltxt:r}),x+=273,a+=140,i?this.drwcBox({x:5,y:a,radius:75,lw:4,bg:s,txt:o}):this.drwBox({cID:this.cID,x:5,y:a,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:s,text1:o,coltxt:r}),this.drwLineLR({cID:this.cID,x:155,y:210,open:!1,arp:"right",hpos:"under",dash:!1,l:120,txtmid:"Ka",coltxt:r})),e&&(a=144,this.drwLineST({cID:this.cID,x:x+75,y:10,endy:x,length:110,deg:90,lc:"black",ahfc:"black",coltxt:"red",topstr:"Bolus Dose",fixx:x+75-1,coltxt:r})),i?this.drwcBox({x:x,y:a,radius:75,lw:4,bg:s,border:r,txt:h,coltxt:r}):this.drwBox({cID:this.cID,x:x,y:a,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:s,text1:h,coltxt:r}),this.drwLineTB({cID:this.cID,x:x+75,y:a+150,length:120,lc:"black",ahfc:"black",ahbc:"black",arp:"bottom",txtmid:"K10",topstr:"",coltxt:r}),this.drwLineLR({cID:this.cID,x:x+150,y:200,open:!1,arp:"right",hpos:"up",dash:!1,l:120,txtmid:"K12",coltxt:r}),this.drwLineLR({cID:this.cID,x:x+150,y:230,open:!1,arp:"left",hpos:"under",dash:!1,l:120,txtmid:"K21",coltxt:r}),i?this.drwcBox({x:x+150+120,y:a,radius:75,lw:4,bg:s,border:r,txt:c,coltxt:r}):this.drwBox({cID:this.cID,x:x+150+120,y:a,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:s,text1:c,coltxt:r})}lib$3cmt({depot:t=!0,bolus:e=!0,labdose:l="Dose",circle:i=!0,depottxt:o="DEPOT",centraltxt:h="CENTRAL",peritxt1:c="PERI1",peritxt2:s="PERI2",bgcol:r="#f5f5f5",txtcol:x="black"}){let a=5,d=137;this.setDim(),t&&(this.drwLineTB({cID:this.cID,x:a+75,y:d,length:120,lc:"black",ahfc:"white",ahbc:"black",arp:"bottom",txtmid:"",topstr:l}),a+=273,d+=140,i?this.drwcBox({x:5,y:d,radius:75,lw:4,bg:r,border:x,txt:o}):this.drwBox({cID:this.cID,x:5,y:d,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:r,text1:o}),this.drwLineLR({cID:this.cID,x:155,y:d+75,open:!1,arp:"right",hpos:"under",dash:!1,l:120,txtmid:"Ka"})),i?this.drwcBox({x:a,y:5,radius:75,lw:4,bg:r,border:x,txt:s}):this.drwBox({cID:this.cID,x:a,y:5,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:r,text1:s}),this.drwLineTB({cID:this.cID,x:a+75-15,y:155,length:120,hpos:"right",lc:"black",ahfc:"white",ahbc:"black",arp:"bottom",txtmid:"K31",topstr:""}),this.drwLineTB({cID:this.cID,x:a+75+15,y:156,length:120,hpos:"left",lc:"black",ahfc:"white",ahbc:"black",arp:"top",txtmid:"K13",topstr:""}),i?this.drwcBox({x:a,y:d,radius:75,lw:4,bg:r,border:x,txt:h}):this.drwBox({cID:this.cID,x:a,y:d,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:r,text1:h}),this.drwLineTB({cID:this.cID,x:a+75,y:d+150,length:120,lc:"black",ahfc:"black",ahbc:"black",arp:"bottom",txtmid:"K10",topstr:""}),e&&(d=144,this.drwLineST({cID:this.cID,x:125,y:d-100,endy:a,length:258,deg:55,lc:"black",ahfc:"black",topstr:"Bolus Dose"})),d=2*d-15,this.drwLineLR({cID:this.cID,x:a+150+1,y:d-15+75,open:!1,arp:"right",hpos:"up",dash:!1,l:120,txtmid:"K21"}),this.drwLineLR({cID:this.cID,x:a+150+2,y:d+15+75,open:!1,arp:"left",hpos:"under",dash:!1,l:120,txtmid:"K12"}),i?this.drwcBox({x:a+150+120+3,y:d,radius:75,lw:4,bg:r,border:x,txt:c}):this.drwBox({cID:this.cID,x:a+150+120+3,y:d,width:150,height:150,radius:6,color1:"black",linewidth:2,color2:r,text1:c})}}